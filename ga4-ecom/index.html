<!DOCTYPE html>
<html lang="en">

<head>
    <title>DigitalStefan - GA4 </title>
    <meta name="facebook-domain-verification" content="ldi42hubanb5v52jngpp7lzuuf6hlo" />
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Convergence&family=Nobile&display=swap" rel="stylesheet">
</head>

<body>

    <h1>GA4 eCom DL Experiment</h1>

    <nav>
        <ul>
            <li><a href="css-experiments.html">CSS Experiments</a></li>
            <li><a href="consent-mode.html">Google Consent Mode</a></li>
            <li><a href="cookiepro-implemented.html">CookiePro</a></li>
            <li><a href="bread-calculator.html">Bread Calculator</a></li>
        </ul>
    </nav>

    <main>
        <article>
            <h2>August 13th 2022</h2>
            <p>This is an experiment to find out what happens when you send two "add_shipping_info" events to GA4. The
                scenario is the client's purchase funnel includes a page to add shipping info and the next page is where
                shipping method is selected. Can we send the event on both pages, or does that break reporting?</p>
            <p>The first event will not include the "shipping_tier" parameter, while the second will.</p>
            <p>"shipping_tier" is mentioned as being a required parameter, so this could be interesting.</p>
            <p>The two buttons below will simulate the events. No visual feedback, this is something for the dev console
                and data layer inspection extension.</p>
        </article>
        <button onclick="shipInfo()">Add Shipping Address</button>
        <button onclick="shipMethod()">Add Shipping Method</button>
    </main>


    <script>
        // Adapted from examples available at https://www.simoahava.com/analytics/google-analytics-4-ecommerce-guide-google-tag-manager/
        function shipInfo() {
            window.dataLayer = window.dataLayer || []
            window.dataLayer.push({
                event: 'shipping_info',
                ecommerce: {
                    currency: 'GBP',
                    items: [{
                        item_name: 'Finnish magical parka',
                        item_id: 'mp1122',
                        price: '31.10',
                        item_brand: 'PARKA4LIFE',
                        item_category: 'Apparel',
                        item_category2: 'Coats',
                        item_category3: 'Parkas',
                        item_category4: 'Unisex',
                        item_variant: 'Navy blue',
                        quantity: '3'
                    }, {
                        item_name: 'Parka stain removal',
                        item_id: 'psr1332',
                        price: '5.99',
                        item_brand: 'PARKA4LIFE',
                        item_category: 'Apparel',
                        item_category2: 'Utility',
                        item_category3: 'Care product',
                        quantity: '1'
                    }]
                }
            });
        }

        function shipMethod() {
            window.dataLayer = window.dataLayer || []
            window.dataLayer.push({
                event: 'shipping_method',
                ecommerce: {
                    shipping_tier: 'EdFex',
                    currency: 'GBP',
                    items: [{
                        item_name: 'Finnish magical parka',
                        item_id: 'mp1122',
                        price: '31.10',
                        item_brand: 'PARKA4LIFE',
                        item_category: 'Apparel',
                        item_category2: 'Coats',
                        item_category3: 'Parkas',
                        item_category4: 'Unisex',
                        item_variant: 'Navy blue',
                        quantity: '3'
                    }, {
                        item_name: 'Parka stain removal',
                        item_id: 'psr1332',
                        price: '5.99',
                        item_brand: 'PARKA4LIFE',
                        item_category: 'Apparel',
                        item_category2: 'Utility',
                        item_category3: 'Care product',
                        quantity: '1'
                    }]
                }
            });
        }


</script>

    <footer>
        <a href="/cookies.html">Review cookie policy and / or change your consent setting</a>
    </footer>

</body>

</html>